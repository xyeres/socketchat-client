{"version":3,"sources":["components/Join/Join.js","img/profiles/building.png","img/profiles/face.png","img/profiles/ghost.png","img/profiles/map.png","img/profiles/owl.png","img/profiles/peacock.png","img/profiles/plant.png","img/profiles/squid.png","modules/getRandomProfilePic.js","components/Chat/Chat.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/UserMenu/UserMenu.js","App.js","index.js"],"names":["Join","useState","name","setName","room","setRoom","className","href","role","tabIndex","type","placeholder","id","autoFocus","onChange","event","target","value","onClick","preventDefault","to","getRandomProfilePic","socket","index","profilePics","p0","p1","p2","p3","p4","p5","p6","p7","randomNum","Math","floor","random","pic","picIndex","InfoBar","handleMenuToggle","Input","message","setMessage","sendMessage","e","onKeyPress","key","Message","getProfilePic","user","text","isSentByAdmin","src","profilePic","alt","ReactEmoji","emojify","Messages","messages","map","i","UserMenu","users","userProfilePic","menuIsActive","length","Chat","location","setMessages","setUsers","setMenuActive","setUserProfilePic","ENDPOINT","useEffect","queryString","parse","search","io","emit","callbackMessage","alert","window","off","on","console","log","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.6ce47fde.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Join = () => {\n  const [name, setName] = useState('Anonymous');\n  const [room, setRoom] = useState('tea-tasting');\n\n  return (\n    <div className=\"bg\">\n      <div className=\"loginContainer\">\n        <main className=\"login\">\n          <div className=\"logo login__logo\">\n            <div href=\"/\" role=\"button\" tabIndex=\"0\" className=\"logo__icon\" aria-label=\"socketchat logo\"><i className=\"fa fa-comments-o\"\n              aria-hidden=\"true\"></i></div>\n            <div className=\"logo__title\">Socketchat</div>\n          </div>\n          <form className=\"login__form\">\n            <input type=\"text\" placeholder=\"Nickname\" name=\"user\" id=\"user\" className=\"input login__input form__user\"\n              autoFocus onChange={(event) => setName(event.target.value)} />\n\n            <input type=\"text\" placeholder=\"Room to join\" name=\"room\" id=\"room\" className=\"input login__input form__room\"\n              onChange={(event) => setRoom(event.target.value)} />\n            <Link\n              onClick={(event) => !name || !room ? event.preventDefault() : null}\n              to={`/chat?name=${name}&room=${room}`}\n            >\n              <button type=\"submit\" tabIndex=\"0\" className=\"btn login__btn\">Join Chat</button>\n            </Link>\n          </form>\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default Join;","export default __webpack_public_path__ + \"static/media/building.452805ba.png\";","export default __webpack_public_path__ + \"static/media/face.ffdc205d.png\";","export default __webpack_public_path__ + \"static/media/ghost.81274bd4.png\";","export default __webpack_public_path__ + \"static/media/map.0a4e31df.png\";","export default __webpack_public_path__ + \"static/media/owl.8062a06f.png\";","export default __webpack_public_path__ + \"static/media/peacock.d8c413c5.png\";","export default __webpack_public_path__ + \"static/media/plant.dbba7e1b.png\";","export default __webpack_public_path__ + \"static/media/squid.6df2d9c7.png\";","import p0 from '../img/profiles/building.png'\nimport p1 from '../img/profiles/face.png'\nimport p2 from '../img/profiles/ghost.png'\nimport p3 from '../img/profiles/map.png'\nimport p4 from '../img/profiles/owl.png'\nimport p5 from '../img/profiles/peacock.png'\nimport p6 from '../img/profiles/plant.png'\nimport p7 from '../img/profiles/squid.png'\n\nfunction getRandomProfilePic(index) {\n  let profilePics = [p0, p1, p2, p3, p4, p5, p5, p6, p7];\n\n  if (index) {\n    return profilePics[index]\n  }\n\n  const roll8SidedDie = () => Math.floor(Math.random() * 8)\n  let randomNum = roll8SidedDie()\n  return {\n    pic: profilePics[randomNum],\n    picIndex: randomNum,\n  }\n};\n\nexport default getRandomProfilePic;","import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport getRandomProfilePic from '../../modules/getRandomProfilePic';\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport Messages from '../Messages/Messages';\nimport UserMenu from '../UserMenu/UserMenu';\n\nlet socket;\n\nconst Chat = ({ location }) => {\n  const [name, setName] = useState('Anonymous');\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState([]);\n  const [menuIsActive, setMenuActive] = useState(false);\n  const [userProfilePic, setUserProfilePic] = useState('');\n\n  const ENDPOINT = 'https://socketchat-serve.herokuapp.com/';\n\n  useEffect(() => {\n    const { pic, picIndex } = getRandomProfilePic()\n    setUserProfilePic(pic)\n\n    const { room, name } = queryString.parse(location.search);\n\n    socket = io(ENDPOINT);\n\n    setName(name);\n    setRoom(room);\n\n    socket.emit('join', { name, room, picIndex }, (callbackMessage) => {\n      // Do stuff when user joins... this is the callback \n      // that fires when the server recieves the emit message\n      if (callbackMessage) {\n        alert(callbackMessage);\n        window.location = '/';\n      }\n    })\n\n    // Cleanup when the component dismounts:\n    return () => {\n      socket.emit('disconnect');\n      socket.off()\n    }\n  }, [ENDPOINT, location.search])\n\n\n  useEffect(() => {\n    socket.on('message', (message) => {\n      setMessages([...messages, message])\n    })\n  }, [messages])\n\n  useEffect(() => {\n    socket.on('roomData', ({ users }) => {\n      setUsers(users)\n    })\n    console.log(users)\n  }, [users])\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if (message) {\n      socket.emit('sendMessage', message, () => setMessage(''))\n    }\n  }\n\n  const handleMenuToggle = () => {\n    setMenuActive(!menuIsActive)\n  }\n\n  return (\n    <div className=\"col\">\n      <UserMenu\n        room={room}\n        name={name}\n        users={users}\n        menuIsActive={menuIsActive}\n        handleMenuToggle={handleMenuToggle}\n        userProfilePic={userProfilePic}\n      />\n      <div className={menuIsActive ? \"dim--active\" : \"dim\"}>\n        <main className=\"screen\">\n          <InfoBar room={room} handleMenuToggle={handleMenuToggle} />\n          <div className=\"containerContainer\">\n            <div className=\"desktopContainer\">\n              <Messages getProfilePic={getRandomProfilePic} messages={messages} name={name} />\n            </div>\n          </div>\n        </main>\n        <Input room={room} message={message} setMessage={setMessage} sendMessage={sendMessage} />\n      </div>\n    </div>\n  )\n}\n\nexport default Chat;","import React from 'react';\n\nconst InfoBar = ({ room, handleMenuToggle }) => {\n  return (\n    <nav className=\"infoBar\">\n      <div className=\"infoBar__title\">{room}</div>\n      <div className=\"infoBar__userMenuToggle\" onClick={handleMenuToggle} id=\"menuOpen\">\n        <i className=\"fa fa-users\" aria-hidden=\"true\"></i>\n      </div>\n    </nav>\n  )\n}\n\nexport default InfoBar;","import React from 'react';\n\nconst Input = ({ room, message, setMessage, sendMessage }) => (\n  <section className=\"inputBar\">\n    <form className=\"inputBar__form\">\n      <input\n        className=\"input inputBar__input\"\n        type=\"text\"\n        placeholder={`Message ${room}`}\n        value={message}\n        onChange={e => setMessage(e.target.value)}\n        onKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null}\n        name=\"message\"\n        id=\"message\"\n      />\n      <button\n        aria-label=\"Send Chat\"\n        className=\"btn inputBar__btn\"\n        onClick={event => sendMessage(event)}\n      >\n        <i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\n    </form>\n  </section>\n)\n\nexport default Input;","import React from 'react';\nimport ReactEmoji from 'react-emoji';\n\nimport profilePic from '../../../img/profiles/building.png'\n\nconst Message = ({ getProfilePic, message: { user, text, picIndex }, name }) => {\n  // let isSentByCurrentUser = false;\n  let isSentByAdmin = false;\n\n  // const trimmedName = name.trim().toLowerCase();\n  // if (user === trimmedName) isSentByCurrentUser = true;\n  if (user === 'admin') isSentByAdmin = true;\n\n\n  return (\n    isSentByAdmin\n      ? (\n        <div className=\"message\">\n          <img src={profilePic} alt=\"user #231\" className=\"message__userImage\" />\n          <div className=\"message__detail\">\n            <div className=\"message__header\">\n              <div className=\"message__userName\">{'✨ChatBot: ' + user}</div>\n              <div className=\"message__timestamp\">07/14/2021</div>\n            </div>\n            <div className=\"message__text\">{ReactEmoji.emojify(text)}</div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"message\">\n          <img src={getProfilePic(picIndex)} alt=\"user #231\" className=\"message__userImage\" />\n          <div className=\"message__detail\">\n            <div className=\"message__header\">\n              <div className=\"message__userName\">{user}</div>\n              <div className=\"message__timestamp\">07/14/2021</div>\n            </div>\n            <div className=\"message__text\">{ReactEmoji.emojify(text)}</div>\n          </div>\n        </div>\n      )\n  )\n}\n\n\nexport default Message;","import React from 'react';\nimport Message from './Message/Message';\n\nconst Messages = ({ getProfilePic, messages, name }) => (\n  <section className=\"messages\">\n    {messages.map((message, i) => <Message getProfilePic={getProfilePic} key={i} message={message} name={name} />)}\n  </section>\n)\n\n\nexport default Messages;","import React from 'react';\n\n\nconst UserMenu = ({ room, name, users, userProfilePic, menuIsActive, handleMenuToggle }) => {\n  return (\n    <section className={menuIsActive ? \"userMenu userMenu--active\" : \"userMenu\"}>\n      <div className=\"logo\">\n        <div role=\"button\" tabIndex=\"0\" className=\"logo__icon\" aria-label=\"socketchat logo\"><i className=\"fa fa-comments-o\"\n          aria-hidden=\"true\"></i></div>\n        <div className=\"logo__title\">Socketchat</div>\n        <i onClick={handleMenuToggle} className=\"fa fa-times logo__btn\" id=\"menuClose\" role=\"button\" tabIndex=\"0\" aria-label=\"Close menu\"></i>\n      </div>\n\n      <div className=\"infoBar__title\">{room}</div>\n      {\n        users\n          ? (<div className=\"activeUsers\">\n            <p className=\"activeUsers__heading\">Online — {users.length}</p>\n            <ul className=\"users\">\n              {users.map(({ name, id }) => (\n                <li className=\"user\" key={id}>\n                  <div className=\"user__userImage\">\n                    <i className=\"user__onlineIcon\" aria-hidden=\"true\"></i>\n                    <img src={userProfilePic} alt={`user # ${id}`} />\n                  </div>\n                  <div className=\"user__detail\">\n                    <div className=\"user__header\">\n                      <div className=\"user__name\">{name}</div>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>) : null\n      }\n      <a href=\"/\" role=\"button\" tabIndex=\"0\" className=\"logout__btn btn\">Leave room</a>\n    </section>\n  )\n}\n\nexport default UserMenu;","import React from 'react';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nimport './css/style.css';\n\nconst App = () => (\n  <Router>\n    <Route path=\"/\" exact component={Join} />\n    <Route path=\"/chat\" component={Chat} />\n  </Router>\n\n)\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.querySelector('#root')\n);\n"],"sourceRoot":""}